<!DOCTYPE html>
<html lang="en">
<head>
    <!--Import Google Icon Font-->
    <link rel="shortcut icon" type="image/x-icon" href="img/logo3.png" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<!--    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>-->
    <link href="css/style.css" rel="stylesheet" >
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>AutoBanShop</title>
    <style>
        header{
            background: url(img/merin.jpg);
            background-size: cover;
            background-position: center;
            min-height: 1000px;
        }
        @media screen and (max-width: 670px){
            header{
                min-height: 500px;
            }
        }
    </style>
</head>
<body>
<div id='stars3'></div>
<ul class="sidenav" id="mobile-demo">
    <div id="stars5"></div>
<div id='stars2'></div>
<!--    <div id="stars8"></div>-->
    <li><div class="user-view">
        <div class="background">
            <img src="http://placehold.it/1024x512/454545">
        </div>
        <a href="#user"><img class="circle" src="img/user2.png"></a>
        <a href="#name"><span class="mob-username white-text name">Guest</span></a>
        <a href="#email"><span class="mob-phone white-text email"></span></a>
        <a href="#email"><span class="mob-email white-text email"></span></a>
    </div></li>
    <li><a class="modal-trigger white-text" href="#modal1">Sign up</a></li>
    <li><a class="modal-trigger white-text" href="#modal2">Log in</a></li>
    <li><a class="log-out white-text" href="#!">Log Out</a></li>
    <li><div class="divider"></div></li>
    <li><a class="white-text" href="#">Home</a></li>
    <li><a class="white-text" href="/catalog">Product</a></li>
    <li><a class="white-text" href="#about-section">About us</a></li>
</ul>
<div id='stars'></div>
<div class="navbar">
<!--<div class="navbar-fixed">-->
    <nav class="nav-extended">
        <header>
<!--    <div id='stars'></div>-->

        <div class="nav-wrapper ">
            <div class="container">
<!--            <a href="#" class="brand-logo"><img src="https://dynamic.brandcrowd.com/asset/logo/ad41d6a4-3f72-4e21-b766-385e3a4277ea/logo?v=4&text=AutoBan" height="64" width="80" ></a>-->
<!--            <a href="/index" class="brand-logo"><img src= >Auto Ban Shop</a>-->
            <a href="/index" data-target="mobile-demo" class="
            sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
<!--                <li><a id="about-nav" class="white-text" href="#about-section">About us</a></li>-->
                <li><a class="modal-trigger white-text" href="#modal1">Sign up</a></li>
                <li><a class="modal-trigger white-text" href="#modal2">Log in</a></li>
                <li><a class="tooltipped btn-floating btn-small indigo darken-4 hoverable" href="/index" data-position="bottom" data-tooltip="Home">
                    <i class="fas fa-home" ></i></a></li>
                <li><a class="tooltipped btn-floating btn-small indigo darken-4 hoverable" href="/#about-section"  data-position="bottom" data-tooltip="About us">
                    <i class="fas fa-info-circle"></i>
                </a></li>
                <li><a class="tooltipped btn-floating btn-small indigo darken-4 hoverable" href="/catalog"  data-position="bottom" data-tooltip="Catalog">
                    <i class="fa fa-car"></i>
                </a></li>
                <li><a class="admin-page white-text" href="/adminpage" style="display: none; font-weight:bold">Admin Page</a></li>
                <li><a href="https://www.instagram.com/?hl=ru" class="tooltipped btn-floating btn-small indigo darken-4 hoverable" data-position="bottom" data-tooltip="Instagram">
                    <i class="fab fa-instagram"></i>
                </a></li>
                <li><a href="https://www.facebook.com" class="tooltipped btn-floating btn-small  indigo darken-4 hoverable" data-position="bottom" data-tooltip="Facebook">
                    <i class="fab fa-facebook"></i>
                </a></li>
                <li><a href="https://twitter.com/?lang=ru" class="tooltipped btn-floating btn-small indigo darken-4 hoverable" data-position="bottom" data-tooltip="Twitter">
                    <i class="fab fa-twitter"></i>
                </a></li>
                <li><a class="page-username white-text flow-text darken-5" href="#!" style="font-style:oblique;font-weight:bold">Guest</a></li>
<!--                <li><a class="tooltipped btn-floating btn-small indigo lighten-2" href="#!"><i class="fas fa-user-circle" style="size: 100px"></i></a></li>-->
                <li><a class="log-out white-text" href="#!">Log Out</a></li>
<!--                <li><a class="tooltipped btn-floating btn-small indigo lighten-2" href="#!"><i class="fas fa-door-open"></i></a></li>-->
            </ul>
        </div>
        </div>
    </header>
    </nav>
</div>

<div id="stars8"></div>
<section class="container section" id="photos">
    <div class="row">

        <div class="col s12 l4">
            <img src="img/blackmerin.jpeg" alt="" class="responsive-img materialboxed" >
        </div>
        <div class="col s12 l6 offset-l1">
            <h2 class="indigo-text text-darken-4">Car</h2>
            <p class="flow-text">Sometimes we offer incredible discounts on selected items. Now you can buy a car of the desired model at a very low price. Regardless of which vehicle you are looking for: new or used, large or compact, in the basic or maximum configuration.</p>
        </div>
    </div>
    <div class="row">
        <div class="col s12 l4 offset-l1 push-l7">
            <img src="img/img4.jpg" alt="" class="responsive-img materialboxed" width="60%">
        </div>
        <div class="col s12 l6 offset-l1 pull-l5 right-align">
            <h2 class="indigo-text text-darken-4">Vehicle</h2>
            <p class="flow-text">Do you want to pamper yourself or to please your loved one? A new car is the best gift! You will not find more advantageous offers on the Vehicle. We are ready to offer you a variety of color options, motors and additional equipment. We are waiting for you for a test drive.</p>
        </div>
    </div>
    <div class="row">
        <div class="col s12 l4">
            <img src="img/merinhelm.jpeg" alt="" class="responsive-img materialboxed" width="80%">
        </div>
        <div class="col s12 l6 offset-l1">
            <h2 class="indigo-text text-darken-4">Quality</h2>
            <p class="flow-text">Why settle for less if you can afford more? Our service offers a wide range of vehicles at affordable prices. We have everything: from luxury cars to pre-owned vehicles in excellent technical condition. We also sell last season models with significant discounts. Do not miss the opportunity, check out all the offers.</p>
        </div>
    </div>
</section>


<div >
<!--<div class="fullscreen">-->
    <div class="carousel carousel-slider">
        <a href="#one!" class="carousel-item"><img src="img/car1.jpeg" alt=""></a>
        <a href="#one!" class="carousel-item"><img src="img/audi.jpeg" alt=""></a>
        <a href="#two!" class="carousel-item"><img src="img/brokencar.jpeg" alt=""></a>
        <a href="#three!" class="carousel-item"><img src="img/lamb.jpg" alt=""></a>
        <a href="#four!" class="carousel-item"><img src="img/img6.jpg" alt=""></a>
    </div>
</div>

<section class="section container" id="about-section">
    <div class="row">
        <div class="col s12 l4">
            <h2 class="indigo-text text-darken-4">About Us</h2>
            <p class="flow-text">Since 2019, when the official opening of our company took place, to this day we offer our customers high-quality cars and the highest class service. Having a wide range of vehicles available, we guarantee that we will choose the right model for any buyer.</p>
            <p class="flow-text">Our company is proud that it can offer cars not only for every taste, but also for any budget, because we have the most affordable prices in the city.</p>
        </div>
        <div class="col s12 l6 offset-l2">
            <div id="photography" class="col s12">
                <p class="flow-text indigo-text text-darken-4">Auto Parts</p>
                <p class="flow-text">What happens if you combine legendary power, fuel economy and handling of a sports car? Answer - A car, as well as an amazing driving experience, the opportunity to experience which our company can give you.</p>

            </div>
            <div id="editing" class="col s12">
                <p class="flow-text indigo-text text-darken-4">Car Service</p>
                <p class="flow-text">We have a wide range of cars and we guarantee that you will have plenty to choose from. Sign up for a test drive</p>
            </div>
        </div>
    </div>
    </div>
</section>



<div class="parallax-container">
    <div class="parallax">
        <img src="img/brokencar.jpeg" alt="">
    </div>
</div>
    <div class="section">
        <div class="row container">
            <h1 class="header indigo-text text-darken-4">Enjoy</h1>
            <p class="flow-text grey-text text-darken-3 lighten-3">Due to the large selection of cars available in the our center there is always an interesting option for any buyer. Since the founding of the company in 2019, we have been helping customers acquire the best cars on the market. Tesla Model S or Mazda CRX? Regardless of what interests you from our assortment, our employees will promptly and expertly help you make a choice and make a purchase.</p>
        </div>
    </div>
<div class="parallax-container">
    <div class="parallax">
        <img src="img/sport.jpg" alt="">
    </div>
</div>
<div id="modal1" class="modal" style="background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);">
<div id="stars4"></div>
    <div class="modal-content">
<div id="stars6"></div>
       <div class="row">
           <form  class="col s12">
               <div class="row">
                   <div class="input-field col s6">
                       <i class="material-icons cyan-text teal-text text-lighten-1 prefix">account_circle</i>
                       <input type="text" class="signin-username validate white-text" placeholder="Username" id="username">
                       <label for="username">Username</label>
                   </div>
                   <div class="row">
                       <div class="input-field col s6">
                           <i class="material-icons cyan-text teal-text text-lighten-1 prefix">phone</i>
                           <input type="tel" class="sign-phone validate white-text" placeholder="Phone" id="phone" pattern="[0-9]{10}"
                                  required>
                           <small class="col xl offset-xl4 white-text">Format: 1234567890</small>
                           <label for="phone">Phone</label>
                       </div>
                   </div>
                   <div class="row">
                       <div class="input-field col s12">
                           <i class="material-icons cyan-text teal-text text-lighten-1 prefix" >lock</i>
                           <input type="password" class="signin-password white-text" placeholder="Password" id="password">
                           <label for="password">Password</label>
                       </div>
                   </div>
                   <div class="row">
                       <div class="input-field col s12">
                           <i class="email material-icons cyan-text teal-text text-lighten-1 prefix">mail</i>
                           <input type="email" class="sign-email validate white-text" placeholder="email" id="email">
                           <label for="email">Email</label>
                        </div>
                    </div>
               </div>
           </form>
       </div>
    </div>

    <div class="modal-footer" style="background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);">
        <a href="#" class="close-btn modal-action modal-close waves-effect waves-green btn">Close</a>
        <a href="#!" class="signin-btn modal-action modal-close waves-effect waves-green btn">Sign in</a>
    </div>
</div>

<div id="modal2" class="modal" style="background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);">
    <div id="stars7"></div>
    <div class="modal-content">
        <div id="stars9"></div>
       <div class="row">
           <form  class="col s12">
               <div class="row">
                   <div class="input-field col s6">
                       <i class="material-icons cyan-text teal-text text-lighten-1 prefix">account_circle</i>
                       <input type="text" class="log-username validate white-text" placeholder="Username" id="log-username">
                       <label for="log-username">Username</label>
                   </div>
                   <div class="row">
                       <div class="input-field col s12">
                           <i class="material-icons cyan-text teal-text text-lighten-1 prefix">lock</i>
                           <input type="password" class="log-password white-text" placeholder="Password" id="log-password">
                           <label for="log-password">Password</label>
                       </div>
                   </div>
               </div>
           </form>
       </div>
    </div>

    <div class="modal-footer" style="background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);">
        <a href="#" class="close-btn modal-action modal-close waves-effect waves-green btn">Close</a>
        <a href="#!" class="login-btn modal-action modal-close waves-effect waves-green btn">Log in</a>
    </div>
</div>

<footer class="page-footer">
    <div class="container">
        <div class="row">
            <div class="col l6 s12">
                <h5 class="white-text">Footer content</h5>
                <p class="grey-text text-lighten-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet corporis distinctio, eius fuga id optio quae quisquam reiciendis sequi tempora, vel vero vitae voluptate voluptatem?</p>
            </div>
            <div class="col l4 offset-12 s12">
                <h5 class="white-text">Contact us</h5>
                <ul>
                    <li><a href="#!" class="grey-text text-lighten-3"></a>Link 1</li>
                    <li><a href="#!" class="grey-text text-lighten-3"></a>Link 2</li>
                    <li><a href="#!" class="grey-text text-lighten-3"></a>Link 3</li>
                    <li><a href="#!" class="grey-text text-lighten-3"></a>Link 4</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container">
            @2019 Online Car Shop AutoBan
            <a href="#!" class="grey-text text-lighten-4 right">More links</a>
        </div>
    </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
        $(document).ready(function(){
            $('.tooltipped').tooltip();
            $('.sidenav').sidenav();
            $('.parallax').parallax();
            $('.modal').modal({
                dismissible:false,
                opacity:.7,
                inDuration:500,
                outDuration:500,
                endingTop:'25%'
            });
        $('.carousel.carousel-slider').carousel({
            fullWidth:true,
            indicators:true,
            duration: 400,
            noWrap:true,
            arrow:true,
        })
    });
        const onAboutUsClick = _ => {
            $("html, body").animate({
                scrollTop: $('#about-section').position().top}, 'slow');
        };
        $('#about-nav').click(onAboutUsClick);

        $('.login-btn').click(() => {
            const req = {
                username: $('.log-username').val(),
                password: $('.log-password').val(),
            };
            $.ajax({
                url: 'http://localhost:8080/user/login',
                contentType: 'application/json',
                type: 'POST',
                data: JSON.stringify(req),
                success: res => {
                    localStorage.setItem('sec-token', res.token);
                    localStorage.setItem('sec-user', res.username);
                    localStorage.setItem('sec-userRole', res.userRole);
                    // localStorage.setItem('sec-email',res.email);
                    // localStorage.setItem('sec-phoneNumber',res.phoneNumber);
                    $('.page-username').html(`${res.username}`);
                    $('.mob-username').html(`${res.username}`);
                    // $('.mob-email').html(`${res.email}`);
                    // $('.mob-phone').html(`${res.phoneNumber}`);
                    console.log("sadsadsadsa");
                    console.log(res.userRole);
                    if (res.userRole == 'ROLE_ADMIN') {
                        $('.admin-page').show();
                    }
                },
                error: e => {
                    console.log(e);
                    alert('security error');
                }
            })
        });
        $('.signin-btn').click(() => {
            const req = {
                username: $('.signin-username').val(),
                password: $('.signin-password').val(),
                email: $('.sign-email').val(),
                phoneNumber: $('.sign-phone').val()
            };
            $.ajax({
                url: 'http://localhost:8080/user/register',
                contentType: 'application/json',
                type: 'POST',
                data: JSON.stringify(req),
                success: res => {
                    localStorage.setItem('sec-token', res.token);
                    localStorage.setItem('sec-user', res.username);
                    localStorage.setItem('sec-email',res.email);
                    localStorage.setItem('sec-phoneNumber',res.phoneNumber);
                    $('.page-username').html(`${res.username}`);
                    $('.mob-username').html(`${res.username}`);
                    $('.mob-email').html(`${res.email}`);
                    $('.mob-phone').html(`${res.phoneNumber}`);
                },
                error: e => {
                    console.log(e);
                    alert('security error');
                }
            })
        });

        const onLogOutClick = () => {
            $('.log-username').val(''),
            $('.log-password').val(''),
            localStorage.clear();
            $('.page-username').html('Guest');
            $('.mob-username').html('Guest');
            // $('.mob-phone').html('');
            // $('.mob-email').html('');
            $('.admin-page').hide();
        };

        const getProperties = () => {
            localStorage.getItem('sec-token');
            let catUserName = localStorage.getItem('sec-user');
            let adminCompare = localStorage.getItem('sec-userRole');
            // let phone = localStorage.getItem('sec-phoneNumber');
            // let email = localStorage.getItem('sec-email');
            if (adminCompare == 'ROLE_ADMIN') {
                $('.admin-page').show();
            }
            $('.page-username').html(catUserName ? catUserName : 'Guest');
            $('.mob-username').html(catUserName ? catUserName : 'Guest');
            // $('.mob-phone').html(phone ? phone : '');
            // $('.mob-email').html(email ? email : '');
        };

        $('.log-out').click(onLogOutClick);

        getProperties();

</script>
</body>
</html>
